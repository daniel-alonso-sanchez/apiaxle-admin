"use strict";angular.module("apiaxleAdminApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/apis.html",controller:"ApisCtrl"}).when("/apis/new",{templateUrl:"views/api-new.html",controller:"ApiCreateCtrl"}).when("/apis/:tag",{templateUrl:"views/api-detail.html",controller:"ApiCtrl"}).when("/apis/:tag/edit",{templateUrl:"views/api-edit.html",controller:"ApiEditCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("apiaxleAdminApp").controller("MainCtrl",["$scope","ApiAxleInfo",function(a,b){var c=b.get({},function(){a.info=c.results,console.log(a.info)})}]),angular.module("apiaxleAdminApp").controller("ApisCtrl",["$scope","ApiAxleList","ApiAxle","$location",function(a,b,c,d){var e=b.get({},function(){a.apis=e.results});a.deleteApi=function(d){c["delete"]({tag:d},function(){var c=b.get({},function(){a.apis=c.results})})},a.showApi=function(a){d.path("/apis/"+a)},a.editApi=function(a){d.path("/apis/"+a+"/edit")},a.createNewApi=function(){d.path("/apis/new")}}]).controller("ApiEditCtrl",["$scope","$routeParams","$location","ApiAxle",function(a,b,c,d){var e=d.get({tag:b.tag},function(){a.api=e.results});a.name=b.tag,a.saveApi=function(){d.update({tag:a.name},a.api,function(){c.path("/apis/"+b.tag)})}}]).controller("ApiCtrl",["$scope","$routeParams","$location","ApiAxle","ApiAxleStats",function(a,b,c,d,e){a.name=b.tag;var f=d.get({tag:b.tag},function(){a.api=f.results}),g=e.get({tag:b.tag},function(){a.stats=g.results,console.log(a.stats)});a.editApi=function(a){c.path("/apis/"+a+"/edit")}}]).controller("ApiCreateCtrl",["$scope","$routeParams","$location","ApiAxle",function(a,b,c,d){a.api={endPointTimeout:3,allowKeylessUse:!0,keylessQps:2,keylessQpd:172800},a.saveApi=function(){var b=a.api.name;delete a.api.name,d.create({tag:b},a.api,function(){c.path("/apis/"+b)})}}]),angular.module("apiaxleAdminApp").factory("ApiAxleList",["$resource",function(a){return a("/v1/apis",{},{})}]).factory("ApiAxle",["$resource",function(a){return a("/v1/api/:tag",{tag:"@tag"},{create:{method:"POST",headers:{"content-type":"application/json"}},update:{method:"PUT",headers:{"content-type":"application/json"}}})}]).factory("ApiAxleInfo",["$resource",function(a){return a("/v1/info",{},{})}]).factory("ApiAxleStats",["$resource",function(a){return a("/v1/api/:tag/stats",{},{})}]).service("apiaxleService",function(){});